-- Test Data: Create sample match results for testing
-- Run this in Supabase SQL Editor after applying the migrations

-- First, get a tournament ID from your tournaments table
-- Replace 'YOUR_TOURNAMENT_ID' below with an actual tournament ID

-- Insert a LIVE match (currently in progress)
INSERT INTO pending_match_results (
  tournament_id,
  watch_code,
  player1_name,
  player2_name,
  player1_legs,
  player2_legs,
  player1_sets,
  player2_sets,
  player1_average,
  player2_average,
  player1_first_9_average,
  player2_first_9_average,
  player1_180s,
  player2_180s,
  player1_checkout_attempts,
  player1_checkouts_completed,
  player1_checkout_percentage,
  player2_checkout_attempts,
  player2_checkouts_completed,
  player2_checkout_percentage,
  player1_100_plus,
  player1_120_plus,
  player1_140_plus,
  player1_160_plus,
  player2_100_plus,
  player2_120_plus,
  player2_140_plus,
  player2_160_plus,
  status,
  is_live,
  match_found,
  confidence_score,
  match_started_at,
  live_updated_at,
  match_completed_at,
  matching_notes
) VALUES (
  'YOUR_TOURNAMENT_ID', -- Replace with actual tournament ID
  'LIVE001',
  'Michael van Gerwen',
  'Peter Wright',
  2,
  1,
  0,
  0,
  98.50,
  94.25,
  105.60,
  89.30,
  3,
  2,
  4,
  2,
  50.00,
  5,
  3,
  60.00,
  8,
  5,
  3,
  2,
  6,
  4,
  2,
  1,
  'live',
  true,
  false,
  0.00,
  NOW() - INTERVAL '5 minutes',
  NOW(),
  NOW(),
  'No matching scheduled match found - Live match in progress'
);

-- Insert a PENDING match (completed, awaiting approval)
INSERT INTO pending_match_results (
  tournament_id,
  watch_code,
  player1_name,
  player2_name,
  player1_legs,
  player2_legs,
  player1_sets,
  player2_sets,
  winner_name,
  player1_average,
  player2_average,
  player1_first_9_average,
  player2_first_9_average,
  player1_highest_checkout,
  player2_highest_checkout,
  player1_180s,
  player2_180s,
  player1_checkout_attempts,
  player1_checkouts_completed,
  player1_checkout_percentage,
  player2_checkout_attempts,
  player2_checkouts_completed,
  player2_checkout_percentage,
  player1_100_plus,
  player1_120_plus,
  player1_140_plus,
  player1_160_plus,
  player2_100_plus,
  player2_120_plus,
  player2_140_plus,
  player2_160_plus,
  player1_ton_plus_finishes,
  player2_ton_plus_finishes,
  player1_darts_thrown,
  player2_darts_thrown,
  total_legs_played,
  status,
  is_live,
  match_found,
  confidence_score,
  match_completed_at,
  matching_notes
) VALUES (
  'YOUR_TOURNAMENT_ID', -- Replace with actual tournament ID
  'ABC123',
  'Gary Anderson',
  'Rob Cross',
  5,
  3,
  0,
  0,
  'Gary Anderson',
  89.75,
  85.20,
  95.30,
  88.50,
  170,
  141,
  4,
  2,
  8,
  5,
  62.50,
  10,
  3,
  30.00,
  12,
  8,
  5,
  3,
  10,
  6,
  4,
  2,
  2,
  1,
  456,
  498,
  8,
  'pending',
  false,
  false,
  0.00,
  NOW() - INTERVAL '10 minutes',
  'No matching scheduled match found'
);

-- Insert an APPROVED match (already processed)
INSERT INTO pending_match_results (
  tournament_id,
  watch_code,
  player1_name,
  player2_name,
  player1_legs,
  player2_legs,
  winner_name,
  player1_average,
  player2_average,
  player1_180s,
  player2_180s,
  status,
  is_live,
  match_found,
  confidence_score,
  match_completed_at,
  processed_at,
  processed_by,
  matching_notes
) VALUES (
  'YOUR_TOURNAMENT_ID', -- Replace with actual tournament ID
  'XYZ789',
  'John Smith',
  'Jane Doe',
  3,
  2,
  'John Smith',
  82.50,
  78.75,
  1,
  0,
  'approved',
  false,
  false,
  0.00,
  NOW() - INTERVAL '1 hour',
  NOW() - INTERVAL '30 minutes',
  'admin',
  'Manually approved'
);

-- Verify the data was inserted
SELECT 
  watch_code,
  player1_name,
  player2_name,
  status,
  is_live,
  player1_legs,
  player2_legs
FROM pending_match_results
WHERE tournament_id = 'YOUR_TOURNAMENT_ID'
ORDER BY created_at DESC;
